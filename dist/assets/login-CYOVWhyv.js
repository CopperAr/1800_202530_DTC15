const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/authentication-DYev4ouI.js","assets/site-footer-DBBnyLh7.js","assets/site-footer-BEVgrkHf.css"])))=>i.map(i=>d[i]);
import"./site-footer-DBBnyLh7.js";import"./app-BVaraGeR.js";import"./authentication-DYev4ouI.js";const b="modulepreload",q=function(h){return"/"+h},L={},v=function(l,i,S){let w=Promise.resolve();if(i&&i.length>0){let a=function(n){return Promise.all(n.map(c=>Promise.resolve(c).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");w=a(i.map(n=>{if(n=q(n),n in L)return;L[n]=!0;const c=n.endsWith(".css"),r=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${r}`))return;const t=document.createElement("link");if(t.rel=c?"stylesheet":b,c||(t.as="script"),t.crossOrigin="",t.href=n,o&&t.setAttribute("nonce",o),document.head.appendChild(t),c)return new Promise((p,e)=>{t.addEventListener("load",p),t.addEventListener("error",()=>e(new Error(`Unable to preload CSS for ${n}`)))})}))}function g(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return w.then(s=>{for(const o of s||[])o.status==="rejected"&&g(o.reason);return l().catch(g)})};function I(){const h=document.getElementById("authAlert"),l=document.getElementById("loginView"),i=document.getElementById("signupView"),S=document.getElementById("toSignup"),w=document.getElementById("toLogin"),g=document.getElementById("loginForm"),s=document.getElementById("signupForm"),o="main.html";function a(e,u){e.classList.toggle("hidden",!u)}function n(){window.location.hash==="#signup"?(a(l,!1),a(i,!0),i?.querySelector("input")?.focus()):(a(i,!1),a(l,!0),l?.querySelector("input")?.focus())}n();let c;function r(e){h.textContent=e||"",h.classList.remove("hidden"),clearTimeout(c),c=setTimeout(t,5e3)}function t(){h.classList.add("hidden"),h.textContent="",clearTimeout(c)}function p(e,u){const d=e?.querySelector('[type="submit"]');d&&(d.disabled=u)}S?.addEventListener("click",e=>{e.preventDefault(),t(),window.location.hash="signup",a(l,!1),a(i,!0),i?.querySelector("input")?.focus()}),w?.addEventListener("click",e=>{e.preventDefault(),t(),window.location.hash="",a(i,!1),a(l,!0),l?.querySelector("input")?.focus()}),window.addEventListener("hashchange",()=>{t(),n()}),g?.addEventListener("submit",async e=>{e.preventDefault(),t();const u=document.querySelector("#loginEmail")?.value?.trim()??"",d=document.querySelector("#loginPassword")?.value??"";if(!u||!d){r("Please enter your email and password.");return}p(g,!0);try{const{loginUser:m,authErrorMessage:E}=await v(async()=>{const{loginUser:f,authErrorMessage:y}=await import("./authentication-DYev4ouI.js");return{loginUser:f,authErrorMessage:y}},__vite__mapDeps([0,1,2]));await m(u,d),location.href=o}catch(m){try{const{authErrorMessage:E}=await v(async()=>{const{authErrorMessage:f}=await import("./authentication-DYev4ouI.js");return{authErrorMessage:f}},__vite__mapDeps([0,1,2]));r(E(m))}catch{r("Login failed. Please try again.")}console.error(m)}finally{p(g,!1)}}),s?.addEventListener("submit",async e=>{e.preventDefault(),t();const u=document.querySelector("#signupName")?.value?.trim()??"",d=document.querySelector("#signupEmail")?.value?.trim()??"",m=document.querySelector("#signupPassword")?.value??"",E=document.querySelector("#signupPasswordConfirm")?.value??"";if(!u||!d||!m||!E){r("Please fill in email and both password fields.");return}if(m!==E){r("Passwords do not match.");return}p(s,!0);try{const{signupUser:f,authErrorMessage:y}=await v(async()=>{const{signupUser:_,authErrorMessage:P}=await import("./authentication-DYev4ouI.js");return{signupUser:_,authErrorMessage:P}},__vite__mapDeps([0,1,2]));await f(u,d,m),location.href=o}catch(f){try{const{authErrorMessage:y}=await v(async()=>{const{authErrorMessage:_}=await import("./authentication-DYev4ouI.js");return{authErrorMessage:_}},__vite__mapDeps([0,1,2]));r(y(f))}catch{r("Sign up failed. Please try again.")}console.error(f)}finally{p(s,!1)}})}document.addEventListener("DOMContentLoaded",I);
